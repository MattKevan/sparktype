<!DOCTYPE html>
<html>
<head>
    <title>Debug SparkBlock Edit Button</title>
</head>
<body>
    <h1>Debug SparkBlock Click-to-Edit</h1>
    
    <p>Test content with a Collection View block:</p>
    
    <pre>
# Test Page

This is a test page.

::collection_view{title="Recent Posts" collectionId="posts" layout="list" maxItems="5" sortBy="date" sortOrder="desc"}

End of test content.
    </pre>
    
    <p>Steps to test:</p>
    <ol>
        <li>Load this content in the SparkBlock editor</li>
        <li>Click directly on the Collection View block</li>
        <li>Verify the edit form appears with Save/Cancel buttons</li>
        <li>Make changes to the form fields</li>
        <li>Click Save to apply changes or Cancel to discard</li>
        <li>Form should close after clicking Save or Cancel</li>
    </ol>
    
    <p>Expected behavior:</p>
    <ul>
        <li><strong>Closed state:</strong> Shows block name and current field/config values</li>
        <li><strong>Click to edit:</strong> Opens the form immediately</li>
        <li><strong>Form display:</strong> Shows all settings with proper labels from block definition</li>
        <li><strong>Form persistence:</strong> Stays open while making changes</li>
        <li><strong>Save:</strong> Applies changes and closes form</li>
        <li><strong>Cancel:</strong> Discards changes and closes form</li>
        <li><strong>No auto-save:</strong> Changes only applied on Save click</li>
    </ul>
    
    <p>Generic custom block display features:</p>
    <ul>
        <li>Works with any custom block that has schema-driven forms</li>
        <li>Automatically shows block name from definition</li>
        <li>Displays up to 4 most important configured values</li>
        <li>Shows "...and X more settings" if more than 4 fields</li>
        <li>Uses proper field labels from block definition</li>
        <li>Handles both content fields and config options</li>
    </ul>
</body>
</html>