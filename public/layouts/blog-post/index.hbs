{{! 
  Template for a single blog post.
  It receives the full `pageContext` object, which includes `contentFile`.
}}
<article class="content-container py-4 prose">
    {{! Display the banner image if one is set in the frontmatter }}
    {{#if images.banner}}
        <div class="banner-image mb-4">
            <img src="{{images.banner.url}}" class="w-full" alt="{{contentFile.frontmatter.title}} banner" style="border-radius: 8px;">
        </div>
    {{/if}}

    {{! Post Header: Title and Metadata }}
    <header class="post-header">
        <h1 class="mb-2">{{contentFile.frontmatter.title}}</h1>
        <div class="post-meta text-small text-muted mb-4">
            {{#if contentFile.frontmatter.date}}
                <time datetime="{{contentFile.frontmatter.date}}">
                    Published on {{formatDate contentFile.frontmatter.date}}
                </time>
            {{/if}}
            
            {{#if contentFile.frontmatter.author}}
                <span style="margin: 0 0.5rem;">|</span>
                <span>By {{contentFile.frontmatter.author}}</span>
            {{/if}}
        </div>
    </header>

    {{! The main content of the post, rendered from Markdown or Blocks }}
    <section class="post-content">
        {{#if blocks}}
            {{{render_blocks blocks}}}
        {{else}}
            {{{markdown contentFile.content}}}
        {{/if}}
    </section>

    {{! Display tags at the bottom of the post }}
    {{#if contentFile.frontmatter.tags}}
        <footer class="post-footer mt-4" style="border-top: 1px solid var(--color-border); padding-top: 1rem;">
            <p class="text-small font-bold">Tagged In:</p>
            <div class="tags-list">
                {{#each contentFile.frontmatter.tags}}
                    <span class="inline-block text-small" style="background: #f8f9fa; border-radius: 4px; padding: 0.25rem 0.5rem; margin-right: 0.5rem; margin-bottom: 0.5rem;">{{this}}</span>
                {{/each}}
            </div>
        </footer>
    {{/if}}
</article>